{{- define "main" }}
  <article class="post" id="post">
    <header class="post-header">
      <h1 class="post-title">{{ .Title }}</h1>
      {{- if not .Date.IsZero }}
        <div class="post-meta">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
            <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
            <line x1="16" x2="16" y1="2" y2="6"></line>
            <line x1="8" x2="8" y1="2" y2="6"></line>
            <line x1="3" x2="21" y1="10" y2="10"></line>
          </svg>
          <span class="post-meta-item-text">记录于</span>
          <time class="post-meta-item" datetime="{{ .Date.Format "2006-01-02" }}">
            {{ .Date.Format "2006年01月02日" }}
          </time>
        </div>
      {{- end }}
    </header>
    <div class="post-content">
      {{- if .Content }}
        {{ .Content }}
      {{- end }}
      
      {{- /* 相关足迹 */}}
      <div class="footprint-related">
        <h3>相关足迹</h3>
        <ul>
          {{- range where (where .Site.RegularPages "Type" "footprint") "Permalink" "!=" .Permalink | first 5 }}
            <li>
              <a href="{{ .Permalink }}">
                <span class="related-date">{{ .Date.Format "2006-01-02" }}</span>
                <span class="related-title">{{ .Title }}</span>
              </a>
            </li>
          {{- end }}
        </ul>
      </div>
    </div>
    
    {{- /* 返回足迹列表 */}}
    <div class="footprint-back">
      <a href="{{ "footprint" | relURL }}" class="back-link">
        ← 返回足迹列表
      </a>
    </div>
  </article>
{{- end }}
